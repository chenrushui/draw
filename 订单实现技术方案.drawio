<mxfile host="www.draw.io" modified="2019-12-24T05:53:08.767Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36" etag="oQiHW_-3dRo5N9Ps19e0" version="12.4.3" type="github" pages="1">
  <diagram id="hI4YDo3AI47wquy1er2c" name="第 1 页">
    <mxGraphModel dx="1552" dy="823" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="1654" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-2" value="开始" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;direction=east;" parent="1" vertex="1">
          <mxGeometry x="296.25" y="110" width="40" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="9cM0dpcqt3-kv-jDEAqP-5" target="9cM0dpcqt3-kv-jDEAqP-529">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-5" value="浏览商品" style="rounded=0;whiteSpace=wrap;html=1;direction=east;" parent="1" vertex="1">
          <mxGeometry x="256.25" y="190" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="9cM0dpcqt3-kv-jDEAqP-7" target="kBRCypBLUb59v_NiYa0x-5">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-7" value="当前用户是否已经购买过此商品" style="rhombus;whiteSpace=wrap;html=1;direction=east;" parent="1" vertex="1">
          <mxGeometry x="256.25" y="270" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-9" value="查询库存数量、价格信息、过期时间、有效期等" style="rounded=0;whiteSpace=wrap;html=1;direction=east;" parent="1" vertex="1">
          <mxGeometry x="256.25" y="350" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-10" value="计算价格金额" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;direction=east;" parent="1" vertex="1">
          <mxGeometry x="256.25" y="430" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-13" value="1、不允许多次购买" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;direction=east;" parent="1" vertex="1">
          <mxGeometry x="256.25" y="80" width="110" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-16" value="redis" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.database;whiteSpace=wrap;direction=east;" parent="1" vertex="1">
          <mxGeometry x="446.25" y="311" width="80" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-21" value="提交订单信息" style="rounded=0;whiteSpace=wrap;html=1;direction=east;" parent="1" vertex="1">
          <mxGeometry x="256.25" y="510" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-23" value="redis，乐观锁" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.database;whiteSpace=wrap;direction=east;" parent="1" vertex="1">
          <mxGeometry x="456.25" y="590" width="80" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-24" value="生成订单id" style="rounded=0;whiteSpace=wrap;html=1;direction=east;" parent="1" vertex="1">
          <mxGeometry x="256.25" y="750" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-25" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="9cM0dpcqt3-kv-jDEAqP-2" target="9cM0dpcqt3-kv-jDEAqP-5" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="426.25" y="200" as="sourcePoint"/>
            <mxPoint x="476.25" y="150" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-27" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="315.75" y="230" as="sourcePoint"/>
            <mxPoint x="315.75" y="270" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-28" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="315.75" y="310" as="sourcePoint"/>
            <mxPoint x="315.75" y="350" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-29" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="315.75" y="390" as="sourcePoint"/>
            <mxPoint x="315.75" y="430" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-30" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="315.75" y="470" as="sourcePoint"/>
            <mxPoint x="315.75" y="510" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-31" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="315.75" y="550" as="sourcePoint"/>
            <mxPoint x="315.75" y="590" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-32" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="315.75" y="630" as="sourcePoint"/>
            <mxPoint x="315.75" y="670" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-33" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="315.75" y="790" as="sourcePoint"/>
            <mxPoint x="315.75" y="830" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-36" value="" style="endArrow=classic;html=1;dashed=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitPerimeter=0;" parent="1" target="9cM0dpcqt3-kv-jDEAqP-23" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="376.25" y="610" as="sourcePoint"/>
            <mxPoint x="536.25" y="540" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-41" value="" style="shape=image;html=1;verticalAlign=top;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;aspect=fixed;image=https://cdn3.iconfinder.com/data/icons/adobe-tools/512/Id-128.png;direction=east;" parent="1" vertex="1">
          <mxGeometry x="456.25" y="740" width="60" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-42" value="" style="endArrow=classic;html=1;dashed=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="456.25" y="769.5" as="sourcePoint"/>
            <mxPoint x="376.25" y="769.5" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-43" value="保存商品、用户、金额信息" style="rounded=0;whiteSpace=wrap;html=1;direction=east;" parent="1" vertex="1">
          <mxGeometry x="256.25" y="830" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-45" value="" style="endArrow=classic;html=1;dashed=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="376.25" y="849.5" as="sourcePoint"/>
            <mxPoint x="456.25" y="849.5" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-46" value="订单信息加入缓存" style="rounded=0;whiteSpace=wrap;html=1;direction=east;" parent="1" vertex="1">
          <mxGeometry x="256.25" y="910" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-47" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="315.75" y="870" as="sourcePoint"/>
            <mxPoint x="315.75" y="910" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-50" value="redis" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.database;whiteSpace=wrap;direction=east;" parent="1" vertex="1">
          <mxGeometry x="456.25" y="910" width="80" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-51" value="" style="endArrow=classic;html=1;dashed=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="376.25" y="929.5" as="sourcePoint"/>
            <mxPoint x="456.25" y="929.5" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-52" value="db" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.database;whiteSpace=wrap;fillColor=#E6E6E6;direction=east;" parent="1" vertex="1">
          <mxGeometry x="466.25" y="820" width="60" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-53" value="返回订单id" style="rounded=0;whiteSpace=wrap;html=1;direction=east;" parent="1" vertex="1">
          <mxGeometry x="256.25" y="990" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-54" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="315.75" y="950" as="sourcePoint"/>
            <mxPoint x="315.75" y="990" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-56" value="结束" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;direction=east;" parent="1" vertex="1">
          <mxGeometry x="296.25" y="1070" width="40" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-57" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="315.75" y="1030" as="sourcePoint"/>
            <mxPoint x="315.75" y="1070" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-59" value="使用redis做乐观锁&lt;br&gt;防止超卖" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="440" y="640" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-60" value="订单id使用&lt;br&gt;自增序列号" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="532" y="750" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-61" value="订单主表与订单项表&lt;br&gt;订单状态落库" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="550" y="830" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-64" value="查询当前用户的订单信息是否&lt;br&gt;包含当前商品" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="516.25" y="231" width="160" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-65" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;fillColor=none;strokeColor=#FF9999;" parent="1" vertex="1">
          <mxGeometry x="236.25" y="410" width="350" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-66" value="订单金额和优惠券使用支付时确定，可能存在变化" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;direction=east;" parent="1" vertex="1">
          <mxGeometry x="431.25" y="440" width="135" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-72" value="取消订单：两种情况" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="160" y="1450" width="120" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-73" value="1、用户主动取消订单" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="160" y="1490" width="120" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="9cM0dpcqt3-kv-jDEAqP-76" target="kBRCypBLUb59v_NiYa0x-38">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-76" value="用户主动取消订单" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="160" y="1520" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-81" value="修改DB中订单状态" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="160" y="1760" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-83" value="修改REDIS中&lt;br&gt;订单状态" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="160" y="1840" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-84" value="db" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.database;whiteSpace=wrap;fillColor=#E6E6E6;" parent="1" vertex="1">
          <mxGeometry x="380" y="1750" width="60" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-85" value="" style="endArrow=classic;html=1;dashed=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="1779.5" as="sourcePoint"/>
            <mxPoint x="360" y="1779.5" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-87" value="" style="endArrow=classic;html=1;dashed=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="1859.5" as="sourcePoint"/>
            <mxPoint x="360" y="1859.5" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-88" value="redis" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.database;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="370" y="1840" width="80" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-89" value="是否待支付状态" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="160" y="1680" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-92" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="219.5" y="1720" as="sourcePoint"/>
            <mxPoint x="219.5" y="1760" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-93" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="219" y="1800" as="sourcePoint"/>
            <mxPoint x="219" y="1840" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-117" value="2、超时取消订单" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="350" y="1490" width="120" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="9cM0dpcqt3-kv-jDEAqP-118" target="kBRCypBLUb59v_NiYa0x-20">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-118" value="定时任务处理&lt;br&gt;每分钟跑一次" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="359" y="1520" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-129" value="释放库存" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="160" y="1920" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-130" value="" style="endArrow=classic;html=1;dashed=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="1939.5" as="sourcePoint"/>
            <mxPoint x="360" y="1939.5" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-131" value="redis" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.database;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="370" y="1920" width="80" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-132" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="219.5" y="1880" as="sourcePoint"/>
            <mxPoint x="219.5" y="1920" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-139" value="查询订单详情" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="99" y="2132" width="120" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-141" value="查询订单详情" style="ellipse;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="119" y="2162" width="80" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-143" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="158.5" y="2202" as="sourcePoint"/>
            <mxPoint x="158.5" y="2242" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-144" value="从redis中查询" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="99" y="2242" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-146" value="判断redia中是否存在" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="99" y="2322" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-147" value="" style="endArrow=classic;html=1;dashed=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="229" y="2261.5" as="sourcePoint"/>
            <mxPoint x="309" y="2261.5" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-148" value="redis" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.database;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="309" y="2242" width="80" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-149" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="158.5" y="2282" as="sourcePoint"/>
            <mxPoint x="158.5" y="2322" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-150" value="结束" style="ellipse;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="119" y="2642" width="80" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-151" value="从DB中查询" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="99" y="2402" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-152" value="" style="endArrow=classic;html=1;dashed=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="229" y="2421.5" as="sourcePoint"/>
            <mxPoint x="309" y="2421.5" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-154" value="db" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.database;whiteSpace=wrap;fillColor=#E6E6E6;" parent="1" vertex="1">
          <mxGeometry x="311" y="2392" width="60" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-155" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="159" y="2362" as="sourcePoint"/>
            <mxPoint x="159" y="2402" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-159" value="" style="endArrow=classic;html=1;dashed=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="223" y="2581.5" as="sourcePoint"/>
            <mxPoint x="303" y="2581.5" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-160" value="redis" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.database;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="309" y="2562" width="80" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-161" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="158.5" y="2442" as="sourcePoint"/>
            <mxPoint x="158.5" y="2482" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-162" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="158.5" y="2522" as="sourcePoint"/>
            <mxPoint x="158.5" y="2562" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-163" value="判断DB中是否存在" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="99" y="2482" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-164" value="同步订单信息到redis中" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="99" y="2562" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-165" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="159" y="2602" as="sourcePoint"/>
            <mxPoint x="159" y="2642" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-168" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" parent="1" vertex="1">
          <mxGeometry x="159" y="2372" width="20" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-169" value="" style="endArrow=classic;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="9cM0dpcqt3-kv-jDEAqP-146" target="9cM0dpcqt3-kv-jDEAqP-150" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="59" y="2342" as="sourcePoint"/>
            <mxPoint x="69" y="2662" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="59" y="2342"/>
              <mxPoint x="59" y="2662"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-170" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" parent="1" vertex="1">
          <mxGeometry x="39" y="2342" width="20" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-171" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" parent="1" vertex="1">
          <mxGeometry x="159" y="2534" width="20" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-172" value="" style="endArrow=classic;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="9cM0dpcqt3-kv-jDEAqP-163" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="379" y="2672" as="sourcePoint"/>
            <mxPoint x="59" y="2502" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-173" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" parent="1" vertex="1">
          <mxGeometry x="69" y="2502" width="20" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-175" value="查询用户订单列表" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="2132" width="120" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-176" value="查询列表" style="ellipse;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="470" y="2162" width="80" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-177" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="509.5" y="2202" as="sourcePoint"/>
            <mxPoint x="509.5" y="2242" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-184" value="从DB中查询" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="450" y="2242" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-185" value="" style="endArrow=classic;html=1;dashed=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="570" y="2261.5" as="sourcePoint"/>
            <mxPoint x="650" y="2261.5" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-186" value="db" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.database;whiteSpace=wrap;fillColor=#E6E6E6;" parent="1" vertex="1">
          <mxGeometry x="652" y="2232" width="60" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-205" value="返回给前端" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="450" y="2322" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-206" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="509.5" y="2282" as="sourcePoint"/>
            <mxPoint x="509.5" y="2322" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-207" value="因为可能存在分页情况，&lt;br&gt;从redis查询存在问题" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF3333;fillColor=none;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="630" y="2322" width="170" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-208" value="" style="endArrow=classic;html=1;entryX=1;entryY=1;entryDx=0;entryDy=0;exitX=0.082;exitY=-0.02;exitDx=0;exitDy=0;exitPerimeter=0;dashed=1;strokeColor=#FF0000;" parent="1" source="9cM0dpcqt3-kv-jDEAqP-207" target="9cM0dpcqt3-kv-jDEAqP-184" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="600" y="2442" as="sourcePoint"/>
            <mxPoint x="650" y="2392" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-211" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="1640" as="sourcePoint"/>
            <mxPoint x="220" y="1680" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-215" value="结束" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="200" y="2001" width="40" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-216" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="1960" as="sourcePoint"/>
            <mxPoint x="220" y="2000" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-217" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" parent="1" vertex="1">
          <mxGeometry x="220" y="1730" width="20" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-218" value="提示取消订单失败信息" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="39" y="1680" width="80" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-219" value="" style="endArrow=classic;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="9cM0dpcqt3-kv-jDEAqP-89" target="9cM0dpcqt3-kv-jDEAqP-218" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="160" y="1691" as="sourcePoint"/>
            <mxPoint x="160" y="1731" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-221" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" parent="1" vertex="1">
          <mxGeometry x="140" y="1680" width="20" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-222" value="" style="endArrow=classic;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" target="9cM0dpcqt3-kv-jDEAqP-215" edge="1" source="9cM0dpcqt3-kv-jDEAqP-218">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="79" y="1881" as="sourcePoint"/>
            <mxPoint x="79" y="2021" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="79" y="2021"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="9cM0dpcqt3-kv-jDEAqP-243" target="kBRCypBLUb59v_NiYa0x-25">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-243" value="开始" style="ellipse;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="659" y="2690" width="80" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-244" value="支付系统调用订单接口，传递状态" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="99" y="2841" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-245" value="订单服务更新db状态" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="99" y="2921" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-246" value="" style="endArrow=classic;html=1;dashed=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="229" y="2940.5" as="sourcePoint"/>
            <mxPoint x="309" y="2940.5" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-247" value="db" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.database;whiteSpace=wrap;fillColor=#E6E6E6;" parent="1" vertex="1">
          <mxGeometry x="311" y="2911" width="60" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-248" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="158" y="2801" as="sourcePoint"/>
            <mxPoint x="158" y="2841" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-249" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="158" y="2881" as="sourcePoint"/>
            <mxPoint x="158" y="2921" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-250" value="同步订单状态到redis" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="99" y="3001" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-251" value="" style="endArrow=classic;html=1;dashed=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="219" y="3020.5" as="sourcePoint"/>
            <mxPoint x="299" y="3020.5" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-252" value="redis" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.database;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="305" y="3001" width="80" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-253" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="158" y="2961" as="sourcePoint"/>
            <mxPoint x="158" y="3001" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-254" value="结束" style="ellipse;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="119" y="3081" width="80" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-257" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="158" y="3041" as="sourcePoint"/>
            <mxPoint x="158" y="3081" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="9cM0dpcqt3-kv-jDEAqP-270">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="580" y="2861" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-270" value="判断原订单是否支付成功" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="659" y="2841" width="80" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-271" value="调用支付服务退款" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="659" y="2921" width="80" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-272" value="开始" style="ellipse;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="119" y="2761" width="80" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-274" value="结束" style="ellipse;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="659" y="3074" width="80" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-275" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="698.5" y="2801" as="sourcePoint"/>
            <mxPoint x="698.5" y="2841" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-276" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="698.5" y="2881" as="sourcePoint"/>
            <mxPoint x="698.5" y="2921" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-277" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="698.5" y="2961" as="sourcePoint"/>
            <mxPoint x="698.5" y="3001" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-280" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" parent="1" vertex="1">
          <mxGeometry x="699" y="2881" width="20" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-281" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" parent="1" vertex="1">
          <mxGeometry x="639" y="2750" width="20" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="9cM0dpcqt3-kv-jDEAqP-283" target="9cM0dpcqt3-kv-jDEAqP-274">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-283" value="保存退款信息" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="659" y="3001" width="80" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-286" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;direction=east;" parent="1" vertex="1">
          <mxGeometry x="317.25" y="320" width="20" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-287" value="" style="endArrow=classic;html=1;strokeColor=#000000;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" edge="1" target="9cM0dpcqt3-kv-jDEAqP-56">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="160" y="290" as="sourcePoint"/>
            <mxPoint x="286.25" y="1010" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="120" y="290"/>
              <mxPoint x="120" y="1090"/>
              <mxPoint x="176.25" y="1090"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-288" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;direction=east;" parent="1" vertex="1">
          <mxGeometry x="237.25" y="260" width="20" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="9cM0dpcqt3-kv-jDEAqP-289" target="kBRCypBLUb59v_NiYa0x-7">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-289" value="是否有库存" style="rhombus;whiteSpace=wrap;html=1;direction=east;" parent="1" vertex="1">
          <mxGeometry x="257.25" y="590" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-290" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;direction=east;" parent="1" vertex="1">
          <mxGeometry x="317.25" y="640" width="20" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-294" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;direction=east;" parent="1" vertex="1">
          <mxGeometry x="240" y="575" width="20" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="9cM0dpcqt3-kv-jDEAqP-295" target="kBRCypBLUb59v_NiYa0x-12">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-295" value="校验前端传递价格和后端是否一致" style="rhombus;whiteSpace=wrap;html=1;direction=east;" parent="1" vertex="1">
          <mxGeometry x="255.25" y="670" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-296" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="315.25" y="710" as="sourcePoint"/>
            <mxPoint x="315.25" y="750" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-297" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;direction=east;" parent="1" vertex="1">
          <mxGeometry x="326.25" y="720" width="20" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-299" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;direction=east;" parent="1" vertex="1">
          <mxGeometry x="240" y="661" width="20" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-529" value="查询商品信息" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="709.5" y="180" width="85" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-530" value="从缓存查询商品信息" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="692" y="271" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-531" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="9cM0dpcqt3-kv-jDEAqP-529" target="9cM0dpcqt3-kv-jDEAqP-530" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-532" value="缓存中是否存在" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="698" y="341" width="110" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-533" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="9cM0dpcqt3-kv-jDEAqP-530" target="9cM0dpcqt3-kv-jDEAqP-532" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-534" value="从数据库获取&lt;br&gt;商品信息" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="694.5" y="413" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-535" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="9cM0dpcqt3-kv-jDEAqP-532" target="9cM0dpcqt3-kv-jDEAqP-534" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-536" value="同步商品信息到缓存" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="694.5" y="559" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-537" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="9cM0dpcqt3-kv-jDEAqP-538" target="9cM0dpcqt3-kv-jDEAqP-536" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-538" value="商品是否存在" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="699" y="481" width="110" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-539" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="9cM0dpcqt3-kv-jDEAqP-534" target="9cM0dpcqt3-kv-jDEAqP-538" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-540" value="结束" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="735" y="621" width="40" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-541" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="9cM0dpcqt3-kv-jDEAqP-536" target="9cM0dpcqt3-kv-jDEAqP-540" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-542" value="Redis" style="shape=cylinder;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;" parent="1" vertex="1">
          <mxGeometry x="859.5" y="271" width="60" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-543" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="9cM0dpcqt3-kv-jDEAqP-530" target="9cM0dpcqt3-kv-jDEAqP-542" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-544" value="DB" style="shape=cylinder;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;" parent="1" vertex="1">
          <mxGeometry x="859.5" y="413" width="60" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-545" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="9cM0dpcqt3-kv-jDEAqP-534" target="9cM0dpcqt3-kv-jDEAqP-544" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-546" value="Redis" style="shape=cylinder;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;" parent="1" vertex="1">
          <mxGeometry x="859.5" y="559" width="60" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-547" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="9cM0dpcqt3-kv-jDEAqP-536" target="9cM0dpcqt3-kv-jDEAqP-546" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-548" value="" style="endArrow=none;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="9cM0dpcqt3-kv-jDEAqP-532" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="661.5" y="366" as="sourcePoint"/>
            <mxPoint x="681.5" y="681" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-549" value="" style="endArrow=none;html=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="661.5" y="641" as="sourcePoint"/>
            <mxPoint x="661.5" y="361" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-550" value="" style="endArrow=classic;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="9cM0dpcqt3-kv-jDEAqP-540" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="661.5" y="641" as="sourcePoint"/>
            <mxPoint x="721.5" y="641" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-551" value="" style="endArrow=classic;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="9cM0dpcqt3-kv-jDEAqP-538" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="671.5" y="521" as="sourcePoint"/>
            <mxPoint x="661.5" y="506" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-553" value="是" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="754.5" y="531" width="40" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-554" value="否" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="659" y="481" width="40" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9cM0dpcqt3-kv-jDEAqP-555" value="否" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="751.5" y="391" width="40" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-5" value="提示已购买过此商品" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="159" y="275" width="68.75" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="kBRCypBLUb59v_NiYa0x-7">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="120" y="610" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-7" value="提示库存&lt;br&gt;不足" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="160" y="595" width="68.75" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="kBRCypBLUb59v_NiYa0x-12">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="120" y="690.5" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-12" value="提示价格已变更" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="159" y="673" width="70" height="35" as="geometry"/>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-17" value="" style="endArrow=classic;html=1;dashed=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="380" y="290" as="sourcePoint"/>
            <mxPoint x="440" y="330" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-19" value="" style="endArrow=classic;html=1;dashed=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="380" y="380" as="sourcePoint"/>
            <mxPoint x="440" y="340" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="kBRCypBLUb59v_NiYa0x-20" target="9cM0dpcqt3-kv-jDEAqP-81">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-20" value="获取超出订单有效期且为待支付状态订单" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="359" y="1600" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kBRCypBLUb59v_NiYa0x-25" target="kBRCypBLUb59v_NiYa0x-29">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-25" value="业务层面判断是否允许退款" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="659" y="2761" width="80" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="kBRCypBLUb59v_NiYa0x-29" target="9cM0dpcqt3-kv-jDEAqP-274">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="578" y="3094"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-29" value="退款失败原因提示信息" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="536.25" y="2921" width="84" height="39" as="geometry"/>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-33" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" vertex="1" parent="1">
          <mxGeometry x="639" y="2841" width="20" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-34" value="支付服务退款接口" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="839.5" y="2901" width="80" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-35" value="" style="endArrow=classic;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="754.5" y="2930" as="sourcePoint"/>
            <mxPoint x="830" y="2930" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-36" value="" style="endArrow=classic;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="824.5" y="2950" as="sourcePoint"/>
            <mxPoint x="754.5" y="2950" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kBRCypBLUb59v_NiYa0x-38" target="9cM0dpcqt3-kv-jDEAqP-218">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-38" value="订单是否存在" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="160" y="1600" width="120" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-41" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" vertex="1" parent="1">
          <mxGeometry x="140" y="1600" width="20" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="kBRCypBLUb59v_NiYa0x-42" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" vertex="1" parent="1">
          <mxGeometry x="220" y="1640" width="20" height="20" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
